# Cinema Project Context (GEMINI.md)

## 1. Project Overview
**Name:** Cinema
**Description:** A Spring Boot-based backend application for a cinema/video streaming platform. The project has the core entities and database schema implemented based on the specification.
**Key Features (Planned):**
*   **User Management:** Authentication (JWT), Profiles.
*   **Content Management:** Video uploads (S3), HLS streaming, Metadata.
*   **Cinema Scheduling:** Managing screening schedules (Coming Up, Happening Now).
*   **Interactive Features:** Reviews, Watch History.
*   **Monetization:** Subscriptions, Payments (Toss), and Creator Settlements.

## 2. Technical Stack
*   **Language:** Java 21
*   **Framework:** Spring Boot 3.5.9
*   **Build Tool:** Gradle
*   **Database:** MySQL (configured as `cinema-db` on `localhost:13306`)
*   **ORM:** Spring Data JPA + Hibernate (`ddl-auto: update`)
*   **Query Framework:** QueryDSL 5.0.0
*   **API Documentation:** SpringDoc OpenAPI (Swagger)
*   **Key Libraries:**
    *   `spring-boot-starter-web`: REST APIs
    *   `spring-boot-starter-security`: Authentication/Authorization
    *   `spring-boot-starter-batch`: Batch processing (likely for settlements)
    *   `lombok`: Boilerplate reduction

## 3. Project Structure
The project follows a standard Gradle/Spring Boot layout.
*   `src/main/java/com/example/cinema`: Root package.
    *   `CinemaApplication.java`: Main entry point.
    *   `entity/`: JPA Entities (`User`, `Content`, `MediaAsset`, etc.) implemented per `ENTITY.md`.
    *   `type/`: Enums for entity status and types.
    *   `dto/`: Data Transfer Objects (currently empty).
    *   *(Planned)* `controller`, `service`, `repository` packages should be created as development progresses.
*   `src/main/resources`:
    *   `application.yaml`: Main configuration (DB, Server).
*   `ENTITY.md`: **CRITICAL** - Contains the detailed database schema, field definitions, and business rules.

## 4. Getting Started

### Prerequisites
*   JDK 21
*   MySQL Server running locally

### Build & Run
```bash
# Build the project
./gradlew build

# Run the application
./gradlew bootRun
```

### Database Setup
Ensure a MySQL database named `cinema-db` exists:
```sql
CREATE DATABASE `cinema-db`;
```
*   Credentials (from `application.yaml`): `root` / `1111`

## 5. Development Guidelines
*   **Entity Implementation:** strictly follow the specifications in `ENTITY.md`.
*   **Architecture:** Adhere to standard Spring layered architecture (Controller -> Service -> Repository).
*   **QueryDSL:** Configure `JPAQueryFactory` bean if not already present to utilize QueryDSL.
*   **Swagger:** API documentation will be auto-generated by SpringDoc. Access via `/swagger-ui/index.html` (once the app is running).
*   **Code Style:** Use Lombok annotations (`@Getter`, `@RequiredArgsConstructor`, ` @Builder`, etc.) to keep code clean.
