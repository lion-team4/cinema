USE `cinema-db`;

-- 1. 안전한 업데이트 모드 해제 및 외래 키 체크 일시 중지
SET SQL_SAFE_UPDATES = 0;
SET FOREIGN_KEY_CHECKS = 0;

-- 2. 기존 데이터 완전 삭제 및 ID 초기화 (TRUNCATE 사용)
TRUNCATE TABLE schedule_items;
TRUNCATE TABLE schedule_days;

-- 3. 외래 키 체크 복구
SET FOREIGN_KEY_CHECKS = 1;

-- 4. Schedule Days 데이터 삽입 (ID가 1부터 순차적으로 생성됨)
INSERT INTO schedule_days (content_id, schedule_date, is_locked, created_at, updated_at) VALUES
-- Administrator (User 1) Contents: 1, 5, 9, 13, 17
(1, '2026-01-19', true, NOW(), NOW()),   -- ID: 1
(1, '2026-01-20', true, NOW(), NOW()),   -- ID: 2
(1, '2026-01-21', false, NOW(), NOW()),  -- ID: 3
(5, '2026-01-19', true, NOW(), NOW()),   -- ID: 4
(5, '2026-01-22', false, NOW(), NOW()),  -- ID: 5
(9, '2026-01-20', true, NOW(), NOW()),   -- ID: 6
(9, '2026-01-23', true, NOW(), NOW()),   -- ID: 7
(13, '2026-01-21', true, NOW(), NOW()),  -- ID: 8
(13, '2026-01-24', false, NOW(), NOW()), -- ID: 9
(17, '2026-01-22', true, NOW(), NOW()),  -- ID: 10
(17, '2026-01-25', true, NOW(), NOW()),  -- ID: 11

-- ActionFan (User 3) Contents: 3, 7, 11, 15
(3, '2026-01-19', true, NOW(), NOW()),   -- ID: 12
(3, '2026-01-21', true, NOW(), NOW()),   -- ID: 13
(3, '2026-01-23', false, NOW(), NOW()),  -- ID: 14
(7, '2026-01-20', true, NOW(), NOW()),   -- ID: 15
(7, '2026-01-22', true, NOW(), NOW()),   -- ID: 16
(11, '2026-01-21', true, NOW(), NOW()),  -- ID: 17
(11, '2026-01-24', true, NOW(), NOW()),  -- ID: 18
(15, '2026-01-22', true, NOW(), NOW()),  -- ID: 19
(15, '2026-01-25', false, NOW(), NOW()), -- ID: 20

-- HorrorKing (User 4) Contents: 4, 8, 12, 16
(4, '2026-01-19', true, NOW(), NOW()),   -- ID: 21
(4, '2026-01-20', true, NOW(), NOW()),   -- ID: 22
(4, '2026-01-22', false, NOW(), NOW()),  -- ID: 23
(8, '2026-01-21', true, NOW(), NOW()),   -- ID: 24
(8, '2026-01-23', true, NOW(), NOW()),   -- ID: 25
(12, '2026-01-20', true, NOW(), NOW()),  -- ID: 26
(12, '2026-01-24', true, NOW(), NOW()),  -- ID: 27
(16, '2026-01-21', true, NOW(), NOW()),  -- ID: 28
(16, '2026-01-25', false, NOW(), NOW()); -- ID: 29

-- 5. Schedule Items 데이터 삽입 (앞서 생성된 ID를 참조)
INSERT INTO schedule_items (schedule_day_id, content_id, start_at, end_at, status, created_at, updated_at) VALUES
-- Content 1
(1, 1, '2026-01-19 10:00:00', '2026-01-19 12:00:00', 'CLOSED', NOW(), NOW()),
(1, 1, '2026-01-19 14:00:00', '2026-01-19 16:00:00', 'CLOSED', NOW(), NOW()),
(1, 1, '2026-01-19 20:00:00', '2026-01-19 22:00:00', 'CLOSED', NOW(), NOW()),
(2, 1, '2026-01-20 09:00:00', '2026-01-20 11:00:00', 'CLOSED', NOW(), NOW()),
(2, 1, '2026-01-20 15:00:00', '2026-01-20 17:00:00', 'CLOSED', NOW(), NOW()),
(3, 1, '2026-01-21 11:00:00', '2026-01-21 13:00:00', 'CLOSED', NOW(), NOW()),

-- Content 5
(4, 5, '2026-01-19 11:00:00', '2026-01-19 13:00:00', 'CLOSED', NOW(), NOW()),
(4, 5, '2026-01-19 17:00:00', '2026-01-19 19:00:00', 'CLOSED', NOW(), NOW()),
(5, 5, '2026-01-22 10:00:00', '2026-01-22 12:00:00', 'CLOSED', NOW(), NOW()),

-- Content 9
(6, 9, '2026-01-20 13:00:00', '2026-01-20 15:00:00', 'CLOSED', NOW(), NOW()),
(7, 9, '2026-01-23 19:00:00', '2026-01-23 21:00:00', 'CLOSED', NOW(), NOW()),

-- Content 13
(8, 13, '2026-01-21 10:00:00', '2026-01-21 12:00:00', 'CLOSED', NOW(), NOW()),
(9, 13, '2026-01-24 11:00:00', '2026-01-24 13:00:00', 'CLOSED', NOW(), NOW()),

-- Content 17
(10, 17, '2026-01-22 09:00:00', '2026-01-22 11:00:00', 'CLOSED', NOW(), NOW()),
(11, 17, '2026-01-25 15:00:00', '2026-01-25 17:00:00', 'CLOSED', NOW(), NOW()),

-- Content 3 (ActionFan)
(12, 3, '2026-01-19 09:00:00', '2026-01-19 11:00:00', 'CLOSED', NOW(), NOW()),
(12, 3, '2026-01-19 21:00:00', '2026-01-19 23:00:00', 'CLOSED', NOW(), NOW()),
(13, 3, '2026-01-21 14:00:00', '2026-01-21 16:00:00', 'CLOSED', NOW(), NOW()),
(14, 3, '2026-01-23 10:00:00', '2026-01-23 12:00:00', 'CLOSED', NOW(), NOW()),

-- Content 7
(15, 7, '2026-01-20 14:00:00', '2026-01-20 16:00:00', 'CLOSED', NOW(), NOW()),
(16, 7, '2026-01-22 18:00:00', '2026-01-22 20:00:00', 'CLOSED', NOW(), NOW()),

-- Content 11
(17, 11, '2026-01-21 08:00:00', '2026-01-21 10:00:00', 'CLOSED', NOW(), NOW()),
(18, 11, '2026-01-24 20:00:00', '2026-01-24 22:00:00', 'CLOSED', NOW(), NOW()),

-- Content 15
(19, 15, '2026-01-22 10:00:00', '2026-01-22 12:00:00', 'CLOSED', NOW(), NOW()),
(20, 15, '2026-01-25 21:00:00', '2026-01-25 23:00:00', 'CLOSED', NOW(), NOW()),

-- Content 4 (HorrorKing)
(21, 4, '2026-01-19 22:00:00', '2026-01-19 23:59:00', 'CLOSED', NOW(), NOW()),
(22, 4, '2026-01-20 10:00:00', '2026-01-20 12:00:00', 'CLOSED', NOW(), NOW()),
(22, 4, '2026-01-20 18:00:00', '2026-01-20 20:00:00', 'CLOSED', NOW(), NOW()),
(23, 4, '2026-01-22 14:00:00', '2026-01-22 16:00:00', 'CLOSED', NOW(), NOW()),

-- Content 8
(24, 8, '2026-01-21 13:00:00', '2026-01-21 15:00:00', 'CLOSED', NOW(), NOW()),
(25, 8, '2026-01-23 21:00:00', '2026-01-23 23:00:00', 'CLOSED', NOW(), NOW()),

-- Content 12
(26, 12, '2026-01-20 08:00:00', '2026-01-20 10:00:00', 'CLOSED', NOW(), NOW()),
(27, 12, '2026-01-24 16:00:00', '2026-01-24 18:00:00', 'CLOSED', NOW(), NOW()),

-- Content 16
(28, 16, '2026-01-21 19:00:00', '2026-01-21 21:00:00', 'CLOSED', NOW(), NOW()),
(29, 16, '2026-01-25 11:00:00', '2026-01-25 13:00:00', 'CLOSED', NOW(), NOW());

-- 6. 안전 업데이트 모드 원복
SET SQL_SAFE_UPDATES = 1;