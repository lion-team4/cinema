# 기능 명세서 (FRS)

## 목차
1. [회원 일반 정보 관련 기능 (UI)](#1-회원-일반-정보-관련-기능-ui)
2. [회원 정산 관련 기능 (US)](#2-회원-정산-관련-기능-us)
3. [영화 정보 관련 기능 (MI)](#3-영화-정보-관련-기능-mi)
4. [영화 상영 일정 스케줄링 (MS)](#4-영화-상영-일정-스케줄링-ms)
5. [영화~사용자 관련 기능 (MU)](#5-영화사용자-관련-기능-mu)
6. [상영관~사용자 관련 기능 (TU)](#6-상영관사용자-관련-기능-tu)
7. [유저 검색 관련 기능 (SU)](#7-유저-검색-관련-기능-su)
8. [영화 검색 관련 기능 (SM)](#8-영화-검색-관련-기능-sm)
9. [영화 상영 일정 검색 (ST)](#9-영화-상영-일정-검색-st)

---

## 1. 회원 일반 정보 관련 기능-UI

| **ID**    | **기능명**      | **상세 요구사항 (Functional Requirements)**                           | **비고**             |
| :-------- | :----------- | :-------------------------------------------------------------- | :----------------- |
| **UI-01** | **로그인**      | - 이메일 및 비밀번호 인증 후 **JWT** 발급                                    |                    |
| **UI-02** | **로그아웃**     | - 토큰 무효화 및 클라이언트 내 토큰 삭제                                        |                    |
| **UI-03** | **회원가입**     | - 이메일/닉네임 중복 확인 API 필수<br>- 비밀번호 2차 확인(프론트)                     |                    |
| **UI-04** | **구독 (결제)**  | - 1개월 주기 자동 결제 및 빌링 키 생성<br>- **결제 실패**: 3일 유예 부여 후 미납 시 권한 정지  | 결제사 연동             |
| **UI-05** | **회원 탈퇴**    | - 즉시 자동 결제 해지<br>- 정산 및 개인정보는 **법적 보관 기간(5년) 준수 후 삭제/익명화**      | 논리 삭제(Soft Delete) |
| **UI-06** | **동시 접속 제한** | - **계정당 1개 기기(세션)**만 상영관 입장 가능<br>- 새로운 기기 로그인 시 기존 세션 종료 여부 선택 | 중복 시청 방지           |

---

## 2. 회원 정산 관련 기능-US

| **ID**    | **기능명**      | **상세 요구사항 (Functional Requirements)**                             | **비고**  |
| :-------- | :----------- | :---------------------------------------------------------------- | :------ |
| **US-01** | **정산 정보 등록** | - 계좌 정보 등록 (익월 1일부터 정산 시작)                                        |         |
| **US-02** | **월간 정산 수행** | - **유효 조회수** 기반 산정 (예: 전체 분량의 20% 이상 시청 시)<br>- 매월 1일 Batch 작업 실행 | 어뷰징 방지  |
| **US-03** | **정산 정보 수정** | - 기등록된 정산 정보 업데이트 기능                                              |         |
| **US-04** | **정산 내역 보존** | - 정보 삭제 요청 시에도 **기지급된 정산 기록**은 회계 증빙용으로 보관                        | 데이터 정합성 |

---

## 3. 영화 정보 관련 기능-MI

| **ID** | **기능명** | **상세 요구사항 (Functional Requirements)** | **비고** |
| :--- | :--- | :--- | :--- |
| **MI-01** | **영화 등록** | - 영상, 포스터, 제목, 태그, 설명 저장 | |
| **MI-02** | **정보 수정** | - **확정된 상영 일정(MS-01)**이 있는 경우 상영 종료 전까지 수정 불가 | 데이터 무결성 |
| **MI-03** | **영화 삭제** | - 상영 예정/진행 중인 일정이 있을 경우 삭제 불가 | |
| **MI-04** | **영상 제한 설정** | - **최소 10분 ~ 최대 120분** 이내의 영상만 등록 가능<br>- 권장 해상도(1080p 이상) 및 용량 제한(예: 5GB) 적용 | 서버 부하 관리 |

---

## 4. 영화 상영 일정 스케줄링-MS

| **ID** | **기능명** | **상세 요구사항 (Functional Requirements)** | **비고** |
| :--- | :--- | :--- | :--- |
| **MS-01** | **일정 편성** | - 정각(00분) 시작만 가능<br>- **중복 편성 금지**: 동일 제작자의 일정은 앞 영화 종료 후 편성 가능<br>- 확정 후 수정 불가 | |

---

## 5. 영화~사용자 관련 기능-MU

| **ID** | **기능명** | **상세 요구사항 (Functional Requirements)** | **비고** |
| :--- | :--- | :--- | :--- |
| **MU-01** | **리뷰 기능** | - 대상: **상영 기록([TU-02])이 있는 영화**에 한해 1회 작성<br>- 항목: 별점(1~5점), 간단한 소감 작성<br>- 수정 및 삭제 기능 포함 | |

---

## 6. 상영관~사용자 관련 기능-TU

| **ID** | **기능명** | **상세 요구사항 (Functional Requirements)** | **비고** |
| :--- | :--- | :--- | :--- |
| **TU-01** | **상영관 이용** | - 입장: 시작 10분 전부터 가능<br>- 퇴장: 종료 10분 후 강제 퇴장 | |
| **TU-02** | **상영 기록 생성** | - 입장 시 기록 생성 | 정산 데이터 활용 |

---

## 7. 유저 검색 관련 기능-SU

| **ID** | **기능명** | **상세 요구사항 (Functional Requirements)** | **비고** |
| :--- | :--- | :--- | :--- |
| **SU-01** | **내 정보 조회** | - 마이페이지 구성에 필요한 사용자 정보 검색 | |
| **SU-02** | **타 유저 조회** | - 닉네임 키워드 검색 (부분 일치 포함, 다수 결과 노출) | |
| **SU-03** | **타 유저 상세 조회** | - 닉네임 완전 일치 유저 1명 상세 조회<br>- 대상 유저의 **필모그래피** 확인 가능 | |

---

## 8. 영화 검색 관련 기능-SM

| **ID**    | **기능명**      | **상세 요구사항 (Functional Requirements)**                                         | **비고**      |
| :-------- | :----------- | :---------------------------------------------------------------------------- | :---------- |
| **SM-01** | **영화 조회**    | - 검색: 제목, 제작자 닉네임 키워드<br>- 필터: 태그, 상영 일정 유/무<br>- 정렬: 개봉순, 상영순, 별점순, 리뷰순, 조회순 | 정렬 로직 설계 필요 |
| **SM-02** | **유저 영화 조회** | - 특정 제작자(닉네임 완전 일치)가 만든 영화 목록 조회                                              |             |

---

## 9. 영화 상영 일정 검색-ST

| **ID**    | **기능명**   | **상세 요구사항 (Functional Requirements)**              | **비고** |
| :-------- | :-------- | :------------------------------------------------- | :----- |
| **ST-01** | **일정 검색** | - 특정 제작자(닉네임 완전 일치)의 영화 상영 일정 검색<br>- 날짜 필터링 기능 제공 |        |
